<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			ul{
				height: 30px;
			}
			ul li{
				width: 27px;
				height: 28px;
				float: left;
				background: url(star.gif) no-repeat 0 0;
				list-style: none;
			}
		</style>
	</head>
	<body>
		<ul id="ul1">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		<p id="txt"></p>
		<script type="text/javascript">
			var oUl = document.getElementById("ul1");
			var oLi = oUl.getElementsByTagName("li");
			var oTxt = document.getElementById("txt");
			var arr = ["差评","一般","好","很好","非常好"];
			let onoff = false;
			let curIndex = -1;//记录点击时的下标
			for(var i = 0;i<oLi.length;i++){
				oLi[i].index = i;//记录当前下标
				oLi[i].onmouseover = function(){
					if(onoff){
						if(this.index > curIndex){
							for(var j = 0 ;j<oLi.length;j++){
							oLi[j].style.background = "url(star.gif) no-repeat 0 0";
							}
							for(var k = 0 ;k<=this.index;k++){
								oLi[k].style.background = "url(star.gif) no-repeat 0 -28px";
							}
						}
					}else{
						for(var j = 0 ;j<oLi.length;j++){
							oLi[j].style.background = "url(star.gif) no-repeat 0 0";
						}
						for(var k = 0 ;k<=this.index;k++){
							oLi[k].style.background = "url(star.gif) no-repeat 0 -28px";
						}
					}
				};
				/*oLi[i].onmouseout = function(){
					if(onoff){
						for(var j = 0 ;j<oLi.length;j++){
							oLi[j].style.background = "url(star.gif) no-repeat 0 0";
						}
					}
					oLi[this.index].style.background="url(star.gif) no-repeat 0 0";
					
				}*/
				oLi[i].onclick = function(){
					onoff = true;
					curIndex = this.index;
					oTxt.innerHTML = arr[this.index];
				};
			}
			
		</script>
	</body>
</html>
